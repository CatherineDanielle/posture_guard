{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cdanielle\\\\belajar\\\\posture-detection\\\\frontend\\\\src\\\\components\\\\PopupOverlay.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport { AlertTriangle, CheckCircle, X, Minimize2, Maximize2, GripHorizontal, Volume2, VolumeX, Eye, EyeOff, MonitorUp } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst PopupOverlay = ({\n  isEnabled,\n  onClose,\n  initialOpacity = 0.9,\n  initialPosition = {\n    x: 20,\n    y: 20\n  }\n}) => {\n  _s();\n  const webcamRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const overlayRef = useRef(null);\n  const pipWindowRef = useRef(null);\n  const [position, setPosition] = useState(initialPosition);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [opacity, setOpacity] = useState(initialOpacity);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [currentStatus, setCurrentStatus] = useState('unknown');\n  const [lastBadPostureTime, setLastBadPostureTime] = useState(null);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const [showCamera, setShowCamera] = useState(true);\n  const [isTabVisible, setIsTabVisible] = useState(true);\n  const [isPiPActive, setIsPiPActive] = useState(false);\n  const [isPiPSupported, setIsPiPSupported] = useState(false);\n  const isProcessingRef = useRef(false);\n  const frameCountRef = useRef(0);\n\n  // Check if Picture-in-Picture is supported\n  useEffect(() => {\n    setIsPiPSupported('documentPictureInPicture' in window || 'pictureInPictureEnabled' in document);\n  }, []);\n\n  // Audio notification\n  const playNotificationSound = useCallback(() => {\n    if (!soundEnabled) return;\n    try {\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      oscillator.frequency.value = 440;\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.5);\n    } catch (e) {\n      console.log('Audio not available');\n    }\n  }, [soundEnabled]);\n\n  // Tab visibility detection\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      setIsTabVisible(!document.hidden);\n    };\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, []);\n\n  // Draw status on canvas for PiP\n  const drawStatusOnCanvas = useCallback(status => {\n    var _webcamRef$current;\n    const canvas = canvasRef.current;\n    const video = (_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : _webcamRef$current.video;\n    if (!canvas || !video) return;\n    const ctx = canvas.getContext('2d');\n\n    // Draw video frame\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n    // Draw status overlay\n    const isGood = status === 'good';\n    const isBad = status === 'bad';\n\n    // Background bar\n    ctx.fillStyle = isGood ? 'rgba(16, 185, 129, 0.9)' : isBad ? 'rgba(239, 68, 68, 0.9)' : 'rgba(100, 100, 100, 0.9)';\n    ctx.fillRect(0, canvas.height - 40, canvas.width, 40);\n\n    // Status text\n    ctx.fillStyle = 'white';\n    ctx.font = 'bold 18px Arial';\n    ctx.textAlign = 'center';\n    const statusText = isGood ? '✓ Good Posture' : isBad ? '⚠ Fix Your Posture!' : 'Detecting...';\n    ctx.fillText(statusText, canvas.width / 2, canvas.height - 15);\n\n    // Border\n    ctx.strokeStyle = isGood ? '#10B981' : isBad ? '#EF4444' : '#666';\n    ctx.lineWidth = 4;\n    ctx.strokeRect(2, 2, canvas.width - 4, canvas.height - 4);\n  }, []);\n  const startPiP = async () => {\n    try {\n      if ('documentPictureInPicture' in window) {\n        const pipWindow = await window.documentPictureInPicture.requestWindow({\n          width: 320,\n          height: 240\n        });\n        pipWindowRef.current = pipWindow;\n        const style = pipWindow.document.createElement('style');\n        style.textContent = `\n          body {\n            margin: 0;\n            padding: 0;\n            background: #1a1a25;\n            font-family: Arial, sans-serif;\n            overflow: hidden;\n          }\n          .container {\n            width: 100%;\n            height: 100%;\n            display: flex;\n            flex-direction: column;\n          }\n          video, canvas {\n            width: 100%;\n            height: calc(100% - 50px);\n            object-fit: cover;\n            transform: scaleX(-1);\n          }\n          .status-bar {\n            height: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: bold;\n            color: white;\n          }\n          .status-good { background: #10B981; }\n          .status-bad { background: #EF4444; }\n          .status-unknown { background: #666; }\n        `;\n        pipWindow.document.head.appendChild(style);\n        const container = pipWindow.document.createElement('div');\n        container.className = 'container';\n        container.id = 'pip-container';\n        const canvas = pipWindow.document.createElement('canvas');\n        canvas.width = 320;\n        canvas.height = 190;\n        canvas.id = 'pip-canvas';\n        container.appendChild(canvas);\n        const statusBar = pipWindow.document.createElement('div');\n        statusBar.className = 'status-bar status-unknown';\n        statusBar.id = 'pip-status';\n        statusBar.textContent = 'Detecting...';\n        container.appendChild(statusBar);\n        pipWindow.document.body.appendChild(container);\n        pipWindow.addEventListener('pagehide', () => {\n          setIsPiPActive(false);\n          pipWindowRef.current = null;\n        });\n        setIsPiPActive(true);\n        return;\n      }\n      if (videoRef.current && document.pictureInPictureEnabled) {\n        await videoRef.current.requestPictureInPicture();\n        setIsPiPActive(true);\n      }\n    } catch (err) {\n      console.error('PiP error:', err);\n      alert('Picture-in-Picture failed. Try using Chrome browser.');\n    }\n  };\n  const stopPiP = async () => {\n    try {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n        pipWindowRef.current = null;\n      }\n      if (document.pictureInPictureElement) {\n        await document.exitPictureInPicture();\n      }\n      setIsPiPActive(false);\n    } catch (err) {\n      console.error('Exit PiP error:', err);\n    }\n  };\n  const updatePiPContent = useCallback(status => {\n    if (!pipWindowRef.current) return;\n    try {\n      var _webcamRef$current2;\n      const pipDoc = pipWindowRef.current.document;\n      const canvas = pipDoc.getElementById('pip-canvas');\n      const statusBar = pipDoc.getElementById('pip-status');\n      const video = (_webcamRef$current2 = webcamRef.current) === null || _webcamRef$current2 === void 0 ? void 0 : _webcamRef$current2.video;\n      if (canvas && video) {\n        const ctx = canvas.getContext('2d');\n        ctx.save();\n        ctx.scale(-1, 1);\n        ctx.drawImage(video, -canvas.width, 0, canvas.width, canvas.height);\n        ctx.restore();\n      }\n      if (statusBar) {\n        const isGood = status === 'good';\n        const isBad = status === 'bad';\n        statusBar.className = `status-bar ${isGood ? 'status-good' : isBad ? 'status-bad' : 'status-unknown'}`;\n        statusBar.textContent = isGood ? '✓ Good Posture' : isBad ? '⚠ Fix Your Posture!' : 'Detecting...';\n      }\n    } catch (e) {}\n  }, []);\n\n  // Posture detection loop\n  useEffect(() => {\n    if (!isEnabled) return;\n    let animationId;\n    const detectAndDraw = async () => {\n      frameCountRef.current += 1;\n      if (isPiPActive && pipWindowRef.current) {\n        updatePiPContent(currentStatus);\n      }\n      if (frameCountRef.current % 30 === 0 && !isProcessingRef.current) {\n        if (!webcamRef.current) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n        const imageSrc = webcamRef.current.getScreenshot();\n        if (!imageSrc) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n        try {\n          isProcessingRef.current = true;\n          const response = await axios.post(`${API_URL}/detect`, {\n            image: imageSrc\n          }, {\n            timeout: 30000\n          });\n          if (response.data.success) {\n            const status = response.data.overall_status;\n            setCurrentStatus(status);\n            if (status === 'bad') {\n              setBadPostureStreak(prev => {\n                const newStreak = prev + 1;\n                if (newStreak >= 2) {\n                  setLastBadPostureTime(new Date());\n                  playNotificationSound();\n                  if (!isTabVisible && Notification.permission === 'granted') {\n                    new Notification('PostureGuard Alert', {\n                      body: 'Please correct your sitting posture!',\n                      icon: '/favicon.ico',\n                      tag: 'posture-alert'\n                    });\n                  }\n                }\n                return newStreak;\n              });\n            } else {\n              setBadPostureStreak(0);\n            }\n          }\n        } catch (err) {\n          console.error('Popup detection error:', err);\n        } finally {\n          isProcessingRef.current = false;\n        }\n      }\n      animationId = requestAnimationFrame(detectAndDraw);\n    };\n    animationId = requestAnimationFrame(detectAndDraw);\n    return () => {\n      if (animationId) {\n        cancelAnimationFrame(animationId);\n      }\n    };\n  }, [isEnabled, isTabVisible, playNotificationSound, isPiPActive, updatePiPContent, currentStatus]);\n  useEffect(() => {\n    if (isEnabled && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, [isEnabled]);\n  useEffect(() => {\n    return () => {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n      }\n    };\n  }, []);\n  const handleMouseDown = e => {\n    if (e.target.closest('.popup-drag-handle')) {\n      setIsDragging(true);\n      const rect = overlayRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n  const handleMouseMove = useCallback(e => {\n    if (!isDragging) return;\n    const newX = Math.max(0, Math.min(window.innerWidth - 200, e.clientX - dragOffset.x));\n    const newY = Math.max(0, Math.min(window.innerHeight - 100, e.clientY - dragOffset.y));\n    setPosition({\n      x: newX,\n      y: newY\n    });\n  }, [isDragging, dragOffset]);\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, handleMouseMove]);\n  if (!isEnabled) return null;\n  const getStatusConfig = () => {\n    switch (currentStatus) {\n      case 'good':\n        return {\n          bgColor: 'bg-posture-good/20',\n          borderColor: 'border-posture-good/50',\n          textColor: 'text-posture-good',\n          icon: /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this),\n          label: 'Good Posture',\n          glowColor: 'shadow-posture-good/30'\n        };\n      case 'bad':\n        return {\n          bgColor: 'bg-posture-bad/20',\n          borderColor: 'border-posture-bad/50',\n          textColor: 'text-posture-bad',\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 17\n          }, this),\n          label: 'Fix Your Posture!',\n          glowColor: 'shadow-posture-bad/30'\n        };\n      default:\n        return {\n          bgColor: 'bg-white/10',\n          borderColor: 'border-white/20',\n          textColor: 'text-white/70',\n          icon: null,\n          label: 'Detecting...',\n          glowColor: ''\n        };\n    }\n  };\n  const statusConfig = getStatusConfig();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: overlayRef,\n    className: `popup-overlay ${isDragging ? 'dragging' : ''}`,\n    style: {\n      left: position.x,\n      top: position.y,\n      opacity: opacity\n    },\n    onMouseDown: handleMouseDown,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n          ${isMinimized ? 'w-auto' : 'w-80'}\n          rounded-2xl overflow-hidden\n          backdrop-blur-xl\n          ${statusConfig.bgColor}\n          border ${statusConfig.borderColor}\n          shadow-2xl ${statusConfig.glowColor}\n          transition-all duration-300\n        `,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-drag-handle flex items-center justify-between px-3 py-2 bg-black/30 border-b border-white/10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(GripHorizontal, {\n            className: \"w-4 h-4 text-white/40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), isMinimized && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center gap-2 ${statusConfig.textColor}`,\n            children: [statusConfig.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: statusConfig.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [isPiPSupported && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: isPiPActive ? stopPiP : startPiP,\n            className: `p-1.5 rounded-lg transition-colors ${isPiPActive ? 'bg-emerald-500/30 text-emerald-400' : 'hover:bg-white/10 text-white/60'}`,\n            title: isPiPActive ? 'Exit Picture-in-Picture' : 'Float on other windows (PiP)',\n            children: /*#__PURE__*/_jsxDEV(MonitorUp, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCamera(!showCamera),\n            className: \"p-1.5 rounded-lg hover:bg-white/10 transition-colors\",\n            title: showCamera ? 'Hide camera' : 'Show camera',\n            children: showCamera ? /*#__PURE__*/_jsxDEV(Eye, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSoundEnabled(!soundEnabled),\n            className: \"p-1.5 rounded-lg hover:bg-white/10 transition-colors\",\n            title: soundEnabled ? 'Mute' : 'Unmute',\n            children: soundEnabled ? /*#__PURE__*/_jsxDEV(Volume2, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(VolumeX, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsMinimized(!isMinimized),\n            className: \"p-1.5 rounded-lg hover:bg-white/10 transition-colors\",\n            children: isMinimized ? /*#__PURE__*/_jsxDEV(Maximize2, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Minimize2, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              stopPiP();\n              onClose();\n            },\n            className: \"p-1.5 rounded-lg hover:bg-red-500/20 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), !isMinimized && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [isPiPSupported && !isPiPActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 bg-emerald-500/10 border-b border-emerald-500/20\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-emerald-400 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(MonitorUp, {\n              className: \"w-3 h-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 19\n            }, this), \"Click the monitor icon to float on other windows!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 15\n        }, this), isPiPActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 bg-emerald-500/20 border-b border-emerald-500/30\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-emerald-400 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-3 h-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 19\n            }, this), \"Floating window active! Check your other windows.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 15\n        }, this), showCamera && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative aspect-video bg-black/50\",\n          children: [/*#__PURE__*/_jsxDEV(Webcam, {\n            ref: webcamRef,\n            audio: false,\n            screenshotFormat: \"image/jpeg\",\n            videoConstraints: {\n              width: 320,\n              height: 240,\n              facingMode: \"user\"\n            },\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            width: 320,\n            height: 240,\n            className: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `absolute bottom-2 left-2 right-2 px-3 py-1.5 rounded-lg ${statusConfig.bgColor} border ${statusConfig.borderColor} backdrop-blur-sm`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-center gap-2 ${statusConfig.textColor}`,\n              children: [statusConfig.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-semibold\",\n                children: statusConfig.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 15\n        }, this), !showCamera && /*#__PURE__*/_jsxDEV(Webcam, {\n          ref: webcamRef,\n          audio: false,\n          screenshotFormat: \"image/jpeg\",\n          videoConstraints: {\n            width: 320,\n            height: 240,\n            facingMode: \"user\"\n          },\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-white/50\",\n              children: \"Opacity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-white/50\",\n              children: [Math.round(opacity * 100), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0.2\",\n            max: \"1\",\n            step: \"0.05\",\n            value: opacity,\n            onChange: e => setOpacity(parseFloat(e.target.value)),\n            className: \"w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer accent-emerald-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), lastBadPostureTime && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 pb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-white/40 text-center\",\n            children: [\"Last alert: \", lastBadPostureTime.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 405,\n    columnNumber: 5\n  }, this);\n};\n_s(PopupOverlay, \"3n6KmYahiDdODZn326zFusI+6N8=\");\n_c = PopupOverlay;\nexport default PopupOverlay;\nvar _c;\n$RefreshReg$(_c, \"PopupOverlay\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Webcam","axios","AlertTriangle","CheckCircle","X","Minimize2","Maximize2","GripHorizontal","Volume2","VolumeX","Eye","EyeOff","MonitorUp","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","PopupOverlay","isEnabled","onClose","initialOpacity","initialPosition","x","y","_s","webcamRef","videoRef","canvasRef","overlayRef","pipWindowRef","position","setPosition","isDragging","setIsDragging","dragOffset","setDragOffset","opacity","setOpacity","isMinimized","setIsMinimized","currentStatus","setCurrentStatus","lastBadPostureTime","setLastBadPostureTime","soundEnabled","setSoundEnabled","showCamera","setShowCamera","isTabVisible","setIsTabVisible","isPiPActive","setIsPiPActive","isPiPSupported","setIsPiPSupported","isProcessingRef","frameCountRef","window","document","playNotificationSound","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","type","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","e","console","log","handleVisibilityChange","hidden","addEventListener","removeEventListener","drawStatusOnCanvas","status","_webcamRef$current","canvas","current","video","ctx","getContext","drawImage","width","height","isGood","isBad","fillStyle","fillRect","font","textAlign","statusText","fillText","strokeStyle","lineWidth","strokeRect","startPiP","pipWindow","documentPictureInPicture","requestWindow","style","createElement","textContent","head","appendChild","container","className","id","statusBar","body","pictureInPictureEnabled","requestPictureInPicture","err","error","alert","stopPiP","close","pictureInPictureElement","exitPictureInPicture","updatePiPContent","_webcamRef$current2","pipDoc","getElementById","save","scale","restore","animationId","detectAndDraw","requestAnimationFrame","imageSrc","getScreenshot","response","post","image","timeout","data","success","overall_status","setBadPostureStreak","prev","newStreak","Date","Notification","permission","icon","tag","cancelAnimationFrame","requestPermission","handleMouseDown","target","closest","rect","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","newX","Math","max","min","innerWidth","newY","innerHeight","handleMouseUp","getStatusConfig","bgColor","borderColor","textColor","fileName","_jsxFileName","lineNumber","columnNumber","label","glowColor","statusConfig","ref","onMouseDown","children","onClick","title","audio","screenshotFormat","videoConstraints","facingMode","round","step","onChange","parseFloat","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/cdanielle/belajar/posture-detection/frontend/src/components/PopupOverlay.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport { \n  AlertTriangle, \n  CheckCircle, \n  X, \n  Minimize2, \n  Maximize2, \n  GripHorizontal,\n  Volume2,\n  VolumeX,\n  Eye,\n  EyeOff,\n  MonitorUp\n} from 'lucide-react';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst PopupOverlay = ({ \n  isEnabled, \n  onClose, \n  initialOpacity = 0.9,\n  initialPosition = { x: 20, y: 20 }\n}) => {\n  const webcamRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const overlayRef = useRef(null);\n  const pipWindowRef = useRef(null);\n  \n  const [position, setPosition] = useState(initialPosition);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [opacity, setOpacity] = useState(initialOpacity);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [currentStatus, setCurrentStatus] = useState('unknown');\n  const [lastBadPostureTime, setLastBadPostureTime] = useState(null);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const [showCamera, setShowCamera] = useState(true);\n  const [isTabVisible, setIsTabVisible] = useState(true);\n  const [isPiPActive, setIsPiPActive] = useState(false);\n  const [isPiPSupported, setIsPiPSupported] = useState(false);\n  const isProcessingRef = useRef(false);\n  const frameCountRef = useRef(0);\n\n  // Check if Picture-in-Picture is supported\n  useEffect(() => {\n    setIsPiPSupported('documentPictureInPicture' in window || 'pictureInPictureEnabled' in document);\n  }, []);\n\n  // Audio notification\n  const playNotificationSound = useCallback(() => {\n    if (!soundEnabled) return;\n    \n    try {\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      oscillator.frequency.value = 440;\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.5);\n    } catch (e) {\n      console.log('Audio not available');\n    }\n  }, [soundEnabled]);\n\n  // Tab visibility detection\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      setIsTabVisible(!document.hidden);\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, []);\n\n  // Draw status on canvas for PiP\n  const drawStatusOnCanvas = useCallback((status) => {\n    const canvas = canvasRef.current;\n    const video = webcamRef.current?.video;\n    \n    if (!canvas || !video) return;\n    \n    const ctx = canvas.getContext('2d');\n    \n    // Draw video frame\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    \n    // Draw status overlay\n    const isGood = status === 'good';\n    const isBad = status === 'bad';\n    \n    // Background bar\n    ctx.fillStyle = isGood ? 'rgba(16, 185, 129, 0.9)' : isBad ? 'rgba(239, 68, 68, 0.9)' : 'rgba(100, 100, 100, 0.9)';\n    ctx.fillRect(0, canvas.height - 40, canvas.width, 40);\n    \n    // Status text\n    ctx.fillStyle = 'white';\n    ctx.font = 'bold 18px Arial';\n    ctx.textAlign = 'center';\n    const statusText = isGood ? '✓ Good Posture' : isBad ? '⚠ Fix Your Posture!' : 'Detecting...';\n    ctx.fillText(statusText, canvas.width / 2, canvas.height - 15);\n    \n    // Border\n    ctx.strokeStyle = isGood ? '#10B981' : isBad ? '#EF4444' : '#666';\n    ctx.lineWidth = 4;\n    ctx.strokeRect(2, 2, canvas.width - 4, canvas.height - 4);\n  }, []);\n\n  const startPiP = async () => {\n    try {\n      if ('documentPictureInPicture' in window) {\n        const pipWindow = await window.documentPictureInPicture.requestWindow({\n          width: 320,\n          height: 240,\n        });\n        \n        pipWindowRef.current = pipWindow;\n        \n        const style = pipWindow.document.createElement('style');\n        style.textContent = `\n          body {\n            margin: 0;\n            padding: 0;\n            background: #1a1a25;\n            font-family: Arial, sans-serif;\n            overflow: hidden;\n          }\n          .container {\n            width: 100%;\n            height: 100%;\n            display: flex;\n            flex-direction: column;\n          }\n          video, canvas {\n            width: 100%;\n            height: calc(100% - 50px);\n            object-fit: cover;\n            transform: scaleX(-1);\n          }\n          .status-bar {\n            height: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: bold;\n            color: white;\n          }\n          .status-good { background: #10B981; }\n          .status-bad { background: #EF4444; }\n          .status-unknown { background: #666; }\n        `;\n        pipWindow.document.head.appendChild(style);\n        \n        const container = pipWindow.document.createElement('div');\n        container.className = 'container';\n        container.id = 'pip-container';\n        \n        const canvas = pipWindow.document.createElement('canvas');\n        canvas.width = 320;\n        canvas.height = 190;\n        canvas.id = 'pip-canvas';\n        container.appendChild(canvas);\n        \n        const statusBar = pipWindow.document.createElement('div');\n        statusBar.className = 'status-bar status-unknown';\n        statusBar.id = 'pip-status';\n        statusBar.textContent = 'Detecting...';\n        container.appendChild(statusBar);\n        \n        pipWindow.document.body.appendChild(container);\n        \n        pipWindow.addEventListener('pagehide', () => {\n          setIsPiPActive(false);\n          pipWindowRef.current = null;\n        });\n        \n        setIsPiPActive(true);\n        return;\n      }\n      \n      if (videoRef.current && document.pictureInPictureEnabled) {\n        await videoRef.current.requestPictureInPicture();\n        setIsPiPActive(true);\n      }\n    } catch (err) {\n      console.error('PiP error:', err);\n      alert('Picture-in-Picture failed. Try using Chrome browser.');\n    }\n  };\n\n  const stopPiP = async () => {\n    try {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n        pipWindowRef.current = null;\n      }\n      if (document.pictureInPictureElement) {\n        await document.exitPictureInPicture();\n      }\n      setIsPiPActive(false);\n    } catch (err) {\n      console.error('Exit PiP error:', err);\n    }\n  };\n\n  const updatePiPContent = useCallback((status) => {\n    if (!pipWindowRef.current) return;\n    \n    try {\n      const pipDoc = pipWindowRef.current.document;\n      const canvas = pipDoc.getElementById('pip-canvas');\n      const statusBar = pipDoc.getElementById('pip-status');\n      const video = webcamRef.current?.video;\n      \n      if (canvas && video) {\n        const ctx = canvas.getContext('2d');\n        ctx.save();\n        ctx.scale(-1, 1);\n        ctx.drawImage(video, -canvas.width, 0, canvas.width, canvas.height);\n        ctx.restore();\n      }\n      \n      if (statusBar) {\n        const isGood = status === 'good';\n        const isBad = status === 'bad';\n        statusBar.className = `status-bar ${isGood ? 'status-good' : isBad ? 'status-bad' : 'status-unknown'}`;\n        statusBar.textContent = isGood ? '✓ Good Posture' : isBad ? '⚠ Fix Your Posture!' : 'Detecting...';\n      }\n    } catch (e) {\n    }\n  }, []);\n\n  // Posture detection loop\n  useEffect(() => {\n    if (!isEnabled) return;\n\n    let animationId;\n    \n    const detectAndDraw = async () => {\n      frameCountRef.current += 1;\n      \n      if (isPiPActive && pipWindowRef.current) {\n        updatePiPContent(currentStatus);\n      }\n      \n      if (frameCountRef.current % 30 === 0 && !isProcessingRef.current) {\n        if (!webcamRef.current) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n\n        const imageSrc = webcamRef.current.getScreenshot();\n        if (!imageSrc) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n\n        try {\n          isProcessingRef.current = true;\n          const response = await axios.post(`${API_URL}/detect`, {\n            image: imageSrc\n          }, { timeout: 30000 });\n\n          if (response.data.success) {\n            const status = response.data.overall_status;\n            setCurrentStatus(status);\n\n            if (status === 'bad') {\n              setBadPostureStreak(prev => {\n                const newStreak = prev + 1;\n                if (newStreak >= 2) {\n                  setLastBadPostureTime(new Date());\n                  playNotificationSound();\n                  \n                  if (!isTabVisible && Notification.permission === 'granted') {\n                    new Notification('PostureGuard Alert', {\n                      body: 'Please correct your sitting posture!',\n                      icon: '/favicon.ico',\n                      tag: 'posture-alert'\n                    });\n                  }\n                }\n                return newStreak;\n              });\n            } else {\n              setBadPostureStreak(0);\n            }\n          }\n        } catch (err) {\n          console.error('Popup detection error:', err);\n        } finally {\n          isProcessingRef.current = false;\n        }\n      }\n      \n      animationId = requestAnimationFrame(detectAndDraw);\n    };\n\n    animationId = requestAnimationFrame(detectAndDraw);\n    \n    return () => {\n      if (animationId) {\n        cancelAnimationFrame(animationId);\n      }\n    };\n  }, [isEnabled, isTabVisible, playNotificationSound, isPiPActive, updatePiPContent, currentStatus]);\n\n  useEffect(() => {\n    if (isEnabled && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, [isEnabled]);\n\n  useEffect(() => {\n    return () => {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n      }\n    };\n  }, []);\n\n  const handleMouseDown = (e) => {\n    if (e.target.closest('.popup-drag-handle')) {\n      setIsDragging(true);\n      const rect = overlayRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n\n  const handleMouseMove = useCallback((e) => {\n    if (!isDragging) return;\n    \n    const newX = Math.max(0, Math.min(window.innerWidth - 200, e.clientX - dragOffset.x));\n    const newY = Math.max(0, Math.min(window.innerHeight - 100, e.clientY - dragOffset.y));\n    \n    setPosition({ x: newX, y: newY });\n  }, [isDragging, dragOffset]);\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, handleMouseMove]);\n\n  if (!isEnabled) return null;\n\n  const getStatusConfig = () => {\n    switch (currentStatus) {\n      case 'good':\n        return {\n          bgColor: 'bg-posture-good/20',\n          borderColor: 'border-posture-good/50',\n          textColor: 'text-posture-good',\n          icon: <CheckCircle className=\"w-5 h-5\" />,\n          label: 'Good Posture',\n          glowColor: 'shadow-posture-good/30'\n        };\n      case 'bad':\n        return {\n          bgColor: 'bg-posture-bad/20',\n          borderColor: 'border-posture-bad/50',\n          textColor: 'text-posture-bad',\n          icon: <AlertTriangle className=\"w-5 h-5\" />,\n          label: 'Fix Your Posture!',\n          glowColor: 'shadow-posture-bad/30'\n        };\n      default:\n        return {\n          bgColor: 'bg-white/10',\n          borderColor: 'border-white/20',\n          textColor: 'text-white/70',\n          icon: null,\n          label: 'Detecting...',\n          glowColor: ''\n        };\n    }\n  };\n\n  const statusConfig = getStatusConfig();\n\n  return (\n    <div\n      ref={overlayRef}\n      className={`popup-overlay ${isDragging ? 'dragging' : ''}`}\n      style={{\n        left: position.x,\n        top: position.y,\n        opacity: opacity\n      }}\n      onMouseDown={handleMouseDown}\n    >\n      <div \n        className={`\n          ${isMinimized ? 'w-auto' : 'w-80'}\n          rounded-2xl overflow-hidden\n          backdrop-blur-xl\n          ${statusConfig.bgColor}\n          border ${statusConfig.borderColor}\n          shadow-2xl ${statusConfig.glowColor}\n          transition-all duration-300\n        `}\n      >\n        {/* Header / Drag Handle */}\n        <div className=\"popup-drag-handle flex items-center justify-between px-3 py-2 bg-black/30 border-b border-white/10\">\n          <div className=\"flex items-center gap-2\">\n            <GripHorizontal className=\"w-4 h-4 text-white/40\" />\n            {isMinimized && (\n              <div className={`flex items-center gap-2 ${statusConfig.textColor}`}>\n                {statusConfig.icon}\n                <span className=\"text-sm font-medium\">{statusConfig.label}</span>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"flex items-center gap-1\">\n            {/* Picture-in-Picture Button */}\n            {isPiPSupported && (\n              <button\n                onClick={isPiPActive ? stopPiP : startPiP}\n                className={`p-1.5 rounded-lg transition-colors ${isPiPActive ? 'bg-emerald-500/30 text-emerald-400' : 'hover:bg-white/10 text-white/60'}`}\n                title={isPiPActive ? 'Exit Picture-in-Picture' : 'Float on other windows (PiP)'}\n              >\n                <MonitorUp className=\"w-4 h-4\" />\n              </button>\n            )}\n            <button\n              onClick={() => setShowCamera(!showCamera)}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n              title={showCamera ? 'Hide camera' : 'Show camera'}\n            >\n              {showCamera ? (\n                <Eye className=\"w-4 h-4 text-white/60\" />\n              ) : (\n                <EyeOff className=\"w-4 h-4 text-white/60\" />\n              )}\n            </button>\n            <button\n              onClick={() => setSoundEnabled(!soundEnabled)}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n              title={soundEnabled ? 'Mute' : 'Unmute'}\n            >\n              {soundEnabled ? (\n                <Volume2 className=\"w-4 h-4 text-white/60\" />\n              ) : (\n                <VolumeX className=\"w-4 h-4 text-white/60\" />\n              )}\n            </button>\n            <button\n              onClick={() => setIsMinimized(!isMinimized)}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n            >\n              {isMinimized ? (\n                <Maximize2 className=\"w-4 h-4 text-white/60\" />\n              ) : (\n                <Minimize2 className=\"w-4 h-4 text-white/60\" />\n              )}\n            </button>\n            <button\n              onClick={() => { stopPiP(); onClose(); }}\n              className=\"p-1.5 rounded-lg hover:bg-red-500/20 transition-colors\"\n            >\n              <X className=\"w-4 h-4 text-white/60\" />\n            </button>\n          </div>\n        </div>\n\n        {!isMinimized && (\n          <>\n            {/* PiP Instructions */}\n            {isPiPSupported && !isPiPActive && (\n              <div className=\"px-4 py-2 bg-emerald-500/10 border-b border-emerald-500/20\">\n                <p className=\"text-xs text-emerald-400 flex items-center gap-2\">\n                  <MonitorUp className=\"w-3 h-3\" />\n                  Click the monitor icon to float on other windows!\n                </p>\n              </div>\n            )}\n            \n            {isPiPActive && (\n              <div className=\"px-4 py-2 bg-emerald-500/20 border-b border-emerald-500/30\">\n                <p className=\"text-xs text-emerald-400 flex items-center gap-2\">\n                  <CheckCircle className=\"w-3 h-3\" />\n                  Floating window active! Check your other windows.\n                </p>\n              </div>\n            )}\n\n            {/* Camera Preview */}\n            {showCamera && (\n              <div className=\"relative aspect-video bg-black/50\">\n                <Webcam\n                  ref={webcamRef}\n                  audio={false}\n                  screenshotFormat=\"image/jpeg\"\n                  videoConstraints={{\n                    width: 320,\n                    height: 240,\n                    facingMode: \"user\"\n                  }}\n                  className=\"w-full h-full object-cover\"\n                />\n                \n                {/* Hidden canvas for PiP */}\n                <canvas\n                  ref={canvasRef}\n                  width={320}\n                  height={240}\n                  className=\"hidden\"\n                />\n                \n                {/* Status Badge Overlay */}\n                <div className={`absolute bottom-2 left-2 right-2 px-3 py-1.5 rounded-lg ${statusConfig.bgColor} border ${statusConfig.borderColor} backdrop-blur-sm`}>\n                  <div className={`flex items-center justify-center gap-2 ${statusConfig.textColor}`}>\n                    {statusConfig.icon}\n                    <span className=\"text-sm font-semibold\">{statusConfig.label}</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {!showCamera && (\n              <Webcam\n                ref={webcamRef}\n                audio={false}\n                screenshotFormat=\"image/jpeg\"\n                videoConstraints={{\n                  width: 320,\n                  height: 240,\n                  facingMode: \"user\"\n                }}\n                className=\"hidden\"\n              />\n            )}\n\n            {/* Opacity Slider */}\n            <div className=\"px-4 py-3\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-xs text-white/50\">Opacity</span>\n                <span className=\"text-xs text-white/50\">{Math.round(opacity * 100)}%</span>\n              </div>\n              <input\n                type=\"range\"\n                min=\"0.2\"\n                max=\"1\"\n                step=\"0.05\"\n                value={opacity}\n                onChange={(e) => setOpacity(parseFloat(e.target.value))}\n                className=\"w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer accent-emerald-500\"\n              />\n            </div>\n\n            {/* Last Alert Time */}\n            {lastBadPostureTime && (\n              <div className=\"px-4 pb-3\">\n                <p className=\"text-xs text-white/40 text-center\">\n                  Last alert: {lastBadPostureTime.toLocaleTimeString()}\n                </p>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PopupOverlay;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,SACEC,aAAa,EACbC,WAAW,EACXC,CAAC,EACDC,SAAS,EACTC,SAAS,EACTC,cAAc,EACdC,OAAO,EACPC,OAAO,EACPC,GAAG,EACHC,MAAM,EACNC,SAAS,QACJ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,MAAMC,YAAY,GAAGA,CAAC;EACpBC,SAAS;EACTC,OAAO;EACPC,cAAc,GAAG,GAAG;EACpBC,eAAe,GAAG;IAAEC,CAAC,EAAE,EAAE;IAAEC,CAAC,EAAE;EAAG;AACnC,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,SAAS,GAAG/B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMgC,QAAQ,GAAGhC,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMiC,SAAS,GAAGjC,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMkC,UAAU,GAAGlC,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMmC,YAAY,GAAGnC,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAM,CAACoC,QAAQ,EAAEC,WAAW,CAAC,GAAGvC,QAAQ,CAAC6B,eAAe,CAAC;EACzD,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC0C,UAAU,EAAEC,aAAa,CAAC,GAAG3C,QAAQ,CAAC;IAAE8B,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC5D,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAG7C,QAAQ,CAAC4B,cAAc,CAAC;EACtD,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAG/C,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACgD,aAAa,EAAEC,gBAAgB,CAAC,GAAGjD,QAAQ,CAAC,SAAS,CAAC;EAC7D,MAAM,CAACkD,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnD,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACoD,YAAY,EAAEC,eAAe,CAAC,GAAGrD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACsD,UAAU,EAAEC,aAAa,CAAC,GAAGvD,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACwD,YAAY,EAAEC,eAAe,CAAC,GAAGzD,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC0D,WAAW,EAAEC,cAAc,CAAC,GAAG3D,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC4D,cAAc,EAAEC,iBAAiB,CAAC,GAAG7D,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM8D,eAAe,GAAG5D,MAAM,CAAC,KAAK,CAAC;EACrC,MAAM6D,aAAa,GAAG7D,MAAM,CAAC,CAAC,CAAC;;EAE/B;EACAD,SAAS,CAAC,MAAM;IACd4D,iBAAiB,CAAC,0BAA0B,IAAIG,MAAM,IAAI,yBAAyB,IAAIC,QAAQ,CAAC;EAClG,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,qBAAqB,GAAG/D,WAAW,CAAC,MAAM;IAC9C,IAAI,CAACiD,YAAY,EAAE;IAEnB,IAAI;MACF,MAAMe,YAAY,GAAG,KAAKH,MAAM,CAACI,YAAY,IAAIJ,MAAM,CAACK,kBAAkB,EAAE,CAAC;MAC7E,MAAMC,UAAU,GAAGH,YAAY,CAACI,gBAAgB,CAAC,CAAC;MAClD,MAAMC,QAAQ,GAAGL,YAAY,CAACM,UAAU,CAAC,CAAC;MAE1CH,UAAU,CAACI,OAAO,CAACF,QAAQ,CAAC;MAC5BA,QAAQ,CAACE,OAAO,CAACP,YAAY,CAACQ,WAAW,CAAC;MAE1CL,UAAU,CAACM,SAAS,CAACC,KAAK,GAAG,GAAG;MAChCP,UAAU,CAACQ,IAAI,GAAG,MAAM;MACxBN,QAAQ,CAACO,IAAI,CAACC,cAAc,CAAC,GAAG,EAAEb,YAAY,CAACc,WAAW,CAAC;MAC3DT,QAAQ,CAACO,IAAI,CAACG,4BAA4B,CAAC,IAAI,EAAEf,YAAY,CAACc,WAAW,GAAG,GAAG,CAAC;MAEhFX,UAAU,CAACa,KAAK,CAAChB,YAAY,CAACc,WAAW,CAAC;MAC1CX,UAAU,CAACc,IAAI,CAACjB,YAAY,CAACc,WAAW,GAAG,GAAG,CAAC;IACjD,CAAC,CAAC,OAAOI,CAAC,EAAE;MACVC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IACpC;EACF,CAAC,EAAE,CAACnC,YAAY,CAAC,CAAC;;EAElB;EACAnD,SAAS,CAAC,MAAM;IACd,MAAMuF,sBAAsB,GAAGA,CAAA,KAAM;MACnC/B,eAAe,CAAC,CAACQ,QAAQ,CAACwB,MAAM,CAAC;IACnC,CAAC;IAEDxB,QAAQ,CAACyB,gBAAgB,CAAC,kBAAkB,EAAEF,sBAAsB,CAAC;IACrE,OAAO,MAAMvB,QAAQ,CAAC0B,mBAAmB,CAAC,kBAAkB,EAAEH,sBAAsB,CAAC;EACvF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMI,kBAAkB,GAAGzF,WAAW,CAAE0F,MAAM,IAAK;IAAA,IAAAC,kBAAA;IACjD,MAAMC,MAAM,GAAG5D,SAAS,CAAC6D,OAAO;IAChC,MAAMC,KAAK,IAAAH,kBAAA,GAAG7D,SAAS,CAAC+D,OAAO,cAAAF,kBAAA,uBAAjBA,kBAAA,CAAmBG,KAAK;IAEtC,IAAI,CAACF,MAAM,IAAI,CAACE,KAAK,EAAE;IAEvB,MAAMC,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;;IAEnC;IACAD,GAAG,CAACE,SAAS,CAACH,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEF,MAAM,CAACM,KAAK,EAAEN,MAAM,CAACO,MAAM,CAAC;;IAEvD;IACA,MAAMC,MAAM,GAAGV,MAAM,KAAK,MAAM;IAChC,MAAMW,KAAK,GAAGX,MAAM,KAAK,KAAK;;IAE9B;IACAK,GAAG,CAACO,SAAS,GAAGF,MAAM,GAAG,yBAAyB,GAAGC,KAAK,GAAG,wBAAwB,GAAG,0BAA0B;IAClHN,GAAG,CAACQ,QAAQ,CAAC,CAAC,EAAEX,MAAM,CAACO,MAAM,GAAG,EAAE,EAAEP,MAAM,CAACM,KAAK,EAAE,EAAE,CAAC;;IAErD;IACAH,GAAG,CAACO,SAAS,GAAG,OAAO;IACvBP,GAAG,CAACS,IAAI,GAAG,iBAAiB;IAC5BT,GAAG,CAACU,SAAS,GAAG,QAAQ;IACxB,MAAMC,UAAU,GAAGN,MAAM,GAAG,gBAAgB,GAAGC,KAAK,GAAG,qBAAqB,GAAG,cAAc;IAC7FN,GAAG,CAACY,QAAQ,CAACD,UAAU,EAAEd,MAAM,CAACM,KAAK,GAAG,CAAC,EAAEN,MAAM,CAACO,MAAM,GAAG,EAAE,CAAC;;IAE9D;IACAJ,GAAG,CAACa,WAAW,GAAGR,MAAM,GAAG,SAAS,GAAGC,KAAK,GAAG,SAAS,GAAG,MAAM;IACjEN,GAAG,CAACc,SAAS,GAAG,CAAC;IACjBd,GAAG,CAACe,UAAU,CAAC,CAAC,EAAE,CAAC,EAAElB,MAAM,CAACM,KAAK,GAAG,CAAC,EAAEN,MAAM,CAACO,MAAM,GAAG,CAAC,CAAC;EAC3D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF,IAAI,0BAA0B,IAAIlD,MAAM,EAAE;QACxC,MAAMmD,SAAS,GAAG,MAAMnD,MAAM,CAACoD,wBAAwB,CAACC,aAAa,CAAC;UACpEhB,KAAK,EAAE,GAAG;UACVC,MAAM,EAAE;QACV,CAAC,CAAC;QAEFjE,YAAY,CAAC2D,OAAO,GAAGmB,SAAS;QAEhC,MAAMG,KAAK,GAAGH,SAAS,CAAClD,QAAQ,CAACsD,aAAa,CAAC,OAAO,CAAC;QACvDD,KAAK,CAACE,WAAW,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;QACDL,SAAS,CAAClD,QAAQ,CAACwD,IAAI,CAACC,WAAW,CAACJ,KAAK,CAAC;QAE1C,MAAMK,SAAS,GAAGR,SAAS,CAAClD,QAAQ,CAACsD,aAAa,CAAC,KAAK,CAAC;QACzDI,SAAS,CAACC,SAAS,GAAG,WAAW;QACjCD,SAAS,CAACE,EAAE,GAAG,eAAe;QAE9B,MAAM9B,MAAM,GAAGoB,SAAS,CAAClD,QAAQ,CAACsD,aAAa,CAAC,QAAQ,CAAC;QACzDxB,MAAM,CAACM,KAAK,GAAG,GAAG;QAClBN,MAAM,CAACO,MAAM,GAAG,GAAG;QACnBP,MAAM,CAAC8B,EAAE,GAAG,YAAY;QACxBF,SAAS,CAACD,WAAW,CAAC3B,MAAM,CAAC;QAE7B,MAAM+B,SAAS,GAAGX,SAAS,CAAClD,QAAQ,CAACsD,aAAa,CAAC,KAAK,CAAC;QACzDO,SAAS,CAACF,SAAS,GAAG,2BAA2B;QACjDE,SAAS,CAACD,EAAE,GAAG,YAAY;QAC3BC,SAAS,CAACN,WAAW,GAAG,cAAc;QACtCG,SAAS,CAACD,WAAW,CAACI,SAAS,CAAC;QAEhCX,SAAS,CAAClD,QAAQ,CAAC8D,IAAI,CAACL,WAAW,CAACC,SAAS,CAAC;QAE9CR,SAAS,CAACzB,gBAAgB,CAAC,UAAU,EAAE,MAAM;UAC3C/B,cAAc,CAAC,KAAK,CAAC;UACrBtB,YAAY,CAAC2D,OAAO,GAAG,IAAI;QAC7B,CAAC,CAAC;QAEFrC,cAAc,CAAC,IAAI,CAAC;QACpB;MACF;MAEA,IAAIzB,QAAQ,CAAC8D,OAAO,IAAI/B,QAAQ,CAAC+D,uBAAuB,EAAE;QACxD,MAAM9F,QAAQ,CAAC8D,OAAO,CAACiC,uBAAuB,CAAC,CAAC;QAChDtE,cAAc,CAAC,IAAI,CAAC;MACtB;IACF,CAAC,CAAC,OAAOuE,GAAG,EAAE;MACZ5C,OAAO,CAAC6C,KAAK,CAAC,YAAY,EAAED,GAAG,CAAC;MAChCE,KAAK,CAAC,sDAAsD,CAAC;IAC/D;EACF,CAAC;EAED,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACF,IAAIhG,YAAY,CAAC2D,OAAO,EAAE;QACxB3D,YAAY,CAAC2D,OAAO,CAACsC,KAAK,CAAC,CAAC;QAC5BjG,YAAY,CAAC2D,OAAO,GAAG,IAAI;MAC7B;MACA,IAAI/B,QAAQ,CAACsE,uBAAuB,EAAE;QACpC,MAAMtE,QAAQ,CAACuE,oBAAoB,CAAC,CAAC;MACvC;MACA7E,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,OAAOuE,GAAG,EAAE;MACZ5C,OAAO,CAAC6C,KAAK,CAAC,iBAAiB,EAAED,GAAG,CAAC;IACvC;EACF,CAAC;EAED,MAAMO,gBAAgB,GAAGtI,WAAW,CAAE0F,MAAM,IAAK;IAC/C,IAAI,CAACxD,YAAY,CAAC2D,OAAO,EAAE;IAE3B,IAAI;MAAA,IAAA0C,mBAAA;MACF,MAAMC,MAAM,GAAGtG,YAAY,CAAC2D,OAAO,CAAC/B,QAAQ;MAC5C,MAAM8B,MAAM,GAAG4C,MAAM,CAACC,cAAc,CAAC,YAAY,CAAC;MAClD,MAAMd,SAAS,GAAGa,MAAM,CAACC,cAAc,CAAC,YAAY,CAAC;MACrD,MAAM3C,KAAK,IAAAyC,mBAAA,GAAGzG,SAAS,CAAC+D,OAAO,cAAA0C,mBAAA,uBAAjBA,mBAAA,CAAmBzC,KAAK;MAEtC,IAAIF,MAAM,IAAIE,KAAK,EAAE;QACnB,MAAMC,GAAG,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;QACnCD,GAAG,CAAC2C,IAAI,CAAC,CAAC;QACV3C,GAAG,CAAC4C,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAChB5C,GAAG,CAACE,SAAS,CAACH,KAAK,EAAE,CAACF,MAAM,CAACM,KAAK,EAAE,CAAC,EAAEN,MAAM,CAACM,KAAK,EAAEN,MAAM,CAACO,MAAM,CAAC;QACnEJ,GAAG,CAAC6C,OAAO,CAAC,CAAC;MACf;MAEA,IAAIjB,SAAS,EAAE;QACb,MAAMvB,MAAM,GAAGV,MAAM,KAAK,MAAM;QAChC,MAAMW,KAAK,GAAGX,MAAM,KAAK,KAAK;QAC9BiC,SAAS,CAACF,SAAS,GAAG,cAAcrB,MAAM,GAAG,aAAa,GAAGC,KAAK,GAAG,YAAY,GAAG,gBAAgB,EAAE;QACtGsB,SAAS,CAACN,WAAW,GAAGjB,MAAM,GAAG,gBAAgB,GAAGC,KAAK,GAAG,qBAAqB,GAAG,cAAc;MACpG;IACF,CAAC,CAAC,OAAOnB,CAAC,EAAE,CACZ;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACApF,SAAS,CAAC,MAAM;IACd,IAAI,CAACyB,SAAS,EAAE;IAEhB,IAAIsH,WAAW;IAEf,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChClF,aAAa,CAACiC,OAAO,IAAI,CAAC;MAE1B,IAAItC,WAAW,IAAIrB,YAAY,CAAC2D,OAAO,EAAE;QACvCyC,gBAAgB,CAACzF,aAAa,CAAC;MACjC;MAEA,IAAIe,aAAa,CAACiC,OAAO,GAAG,EAAE,KAAK,CAAC,IAAI,CAAClC,eAAe,CAACkC,OAAO,EAAE;QAChE,IAAI,CAAC/D,SAAS,CAAC+D,OAAO,EAAE;UACtBgD,WAAW,GAAGE,qBAAqB,CAACD,aAAa,CAAC;UAClD;QACF;QAEA,MAAME,QAAQ,GAAGlH,SAAS,CAAC+D,OAAO,CAACoD,aAAa,CAAC,CAAC;QAClD,IAAI,CAACD,QAAQ,EAAE;UACbH,WAAW,GAAGE,qBAAqB,CAACD,aAAa,CAAC;UAClD;QACF;QAEA,IAAI;UACFnF,eAAe,CAACkC,OAAO,GAAG,IAAI;UAC9B,MAAMqD,QAAQ,GAAG,MAAMhJ,KAAK,CAACiJ,IAAI,CAAC,GAAGjI,OAAO,SAAS,EAAE;YACrDkI,KAAK,EAAEJ;UACT,CAAC,EAAE;YAAEK,OAAO,EAAE;UAAM,CAAC,CAAC;UAEtB,IAAIH,QAAQ,CAACI,IAAI,CAACC,OAAO,EAAE;YACzB,MAAM7D,MAAM,GAAGwD,QAAQ,CAACI,IAAI,CAACE,cAAc;YAC3C1G,gBAAgB,CAAC4C,MAAM,CAAC;YAExB,IAAIA,MAAM,KAAK,KAAK,EAAE;cACpB+D,mBAAmB,CAACC,IAAI,IAAI;gBAC1B,MAAMC,SAAS,GAAGD,IAAI,GAAG,CAAC;gBAC1B,IAAIC,SAAS,IAAI,CAAC,EAAE;kBAClB3G,qBAAqB,CAAC,IAAI4G,IAAI,CAAC,CAAC,CAAC;kBACjC7F,qBAAqB,CAAC,CAAC;kBAEvB,IAAI,CAACV,YAAY,IAAIwG,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;oBAC1D,IAAID,YAAY,CAAC,oBAAoB,EAAE;sBACrCjC,IAAI,EAAE,sCAAsC;sBAC5CmC,IAAI,EAAE,cAAc;sBACpBC,GAAG,EAAE;oBACP,CAAC,CAAC;kBACJ;gBACF;gBACA,OAAOL,SAAS;cAClB,CAAC,CAAC;YACJ,CAAC,MAAM;cACLF,mBAAmB,CAAC,CAAC,CAAC;YACxB;UACF;QACF,CAAC,CAAC,OAAO1B,GAAG,EAAE;UACZ5C,OAAO,CAAC6C,KAAK,CAAC,wBAAwB,EAAED,GAAG,CAAC;QAC9C,CAAC,SAAS;UACRpE,eAAe,CAACkC,OAAO,GAAG,KAAK;QACjC;MACF;MAEAgD,WAAW,GAAGE,qBAAqB,CAACD,aAAa,CAAC;IACpD,CAAC;IAEDD,WAAW,GAAGE,qBAAqB,CAACD,aAAa,CAAC;IAElD,OAAO,MAAM;MACX,IAAID,WAAW,EAAE;QACfoB,oBAAoB,CAACpB,WAAW,CAAC;MACnC;IACF,CAAC;EACH,CAAC,EAAE,CAACtH,SAAS,EAAE8B,YAAY,EAAEU,qBAAqB,EAAER,WAAW,EAAE+E,gBAAgB,EAAEzF,aAAa,CAAC,CAAC;EAElG/C,SAAS,CAAC,MAAM;IACd,IAAIyB,SAAS,IAAIsI,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;MACtDD,YAAY,CAACK,iBAAiB,CAAC,CAAC;IAClC;EACF,CAAC,EAAE,CAAC3I,SAAS,CAAC,CAAC;EAEfzB,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAIoC,YAAY,CAAC2D,OAAO,EAAE;QACxB3D,YAAY,CAAC2D,OAAO,CAACsC,KAAK,CAAC,CAAC;MAC9B;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMgC,eAAe,GAAIjF,CAAC,IAAK;IAC7B,IAAIA,CAAC,CAACkF,MAAM,CAACC,OAAO,CAAC,oBAAoB,CAAC,EAAE;MAC1C/H,aAAa,CAAC,IAAI,CAAC;MACnB,MAAMgI,IAAI,GAAGrI,UAAU,CAAC4D,OAAO,CAAC0E,qBAAqB,CAAC,CAAC;MACvD/H,aAAa,CAAC;QACZb,CAAC,EAAEuD,CAAC,CAACsF,OAAO,GAAGF,IAAI,CAACG,IAAI;QACxB7I,CAAC,EAAEsD,CAAC,CAACwF,OAAO,GAAGJ,IAAI,CAACK;MACtB,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMC,eAAe,GAAG5K,WAAW,CAAEkF,CAAC,IAAK;IACzC,IAAI,CAAC7C,UAAU,EAAE;IAEjB,MAAMwI,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAACnH,MAAM,CAACoH,UAAU,GAAG,GAAG,EAAE/F,CAAC,CAACsF,OAAO,GAAGjI,UAAU,CAACZ,CAAC,CAAC,CAAC;IACrF,MAAMuJ,IAAI,GAAGJ,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAACnH,MAAM,CAACsH,WAAW,GAAG,GAAG,EAAEjG,CAAC,CAACwF,OAAO,GAAGnI,UAAU,CAACX,CAAC,CAAC,CAAC;IAEtFQ,WAAW,CAAC;MAAET,CAAC,EAAEkJ,IAAI;MAAEjJ,CAAC,EAAEsJ;IAAK,CAAC,CAAC;EACnC,CAAC,EAAE,CAAC7I,UAAU,EAAEE,UAAU,CAAC,CAAC;EAE5B,MAAM6I,aAAa,GAAGA,CAAA,KAAM;IAC1B9I,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;EAEDxC,SAAS,CAAC,MAAM;IACd,IAAIuC,UAAU,EAAE;MACdwB,MAAM,CAAC0B,gBAAgB,CAAC,WAAW,EAAEqF,eAAe,CAAC;MACrD/G,MAAM,CAAC0B,gBAAgB,CAAC,SAAS,EAAE6F,aAAa,CAAC;IACnD;IACA,OAAO,MAAM;MACXvH,MAAM,CAAC2B,mBAAmB,CAAC,WAAW,EAAEoF,eAAe,CAAC;MACxD/G,MAAM,CAAC2B,mBAAmB,CAAC,SAAS,EAAE4F,aAAa,CAAC;IACtD,CAAC;EACH,CAAC,EAAE,CAAC/I,UAAU,EAAEuI,eAAe,CAAC,CAAC;EAEjC,IAAI,CAACrJ,SAAS,EAAE,OAAO,IAAI;EAE3B,MAAM8J,eAAe,GAAGA,CAAA,KAAM;IAC5B,QAAQxI,aAAa;MACnB,KAAK,MAAM;QACT,OAAO;UACLyI,OAAO,EAAE,oBAAoB;UAC7BC,WAAW,EAAE,wBAAwB;UACrCC,SAAS,EAAE,mBAAmB;UAC9BzB,IAAI,eAAEhJ,OAAA,CAACX,WAAW;YAACqH,SAAS,EAAC;UAAS;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;UACzCC,KAAK,EAAE,cAAc;UACrBC,SAAS,EAAE;QACb,CAAC;MACH,KAAK,KAAK;QACR,OAAO;UACLR,OAAO,EAAE,mBAAmB;UAC5BC,WAAW,EAAE,uBAAuB;UACpCC,SAAS,EAAE,kBAAkB;UAC7BzB,IAAI,eAAEhJ,OAAA,CAACZ,aAAa;YAACsH,SAAS,EAAC;UAAS;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;UAC3CC,KAAK,EAAE,mBAAmB;UAC1BC,SAAS,EAAE;QACb,CAAC;MACH;QACE,OAAO;UACLR,OAAO,EAAE,aAAa;UACtBC,WAAW,EAAE,iBAAiB;UAC9BC,SAAS,EAAE,eAAe;UAC1BzB,IAAI,EAAE,IAAI;UACV8B,KAAK,EAAE,cAAc;UACrBC,SAAS,EAAE;QACb,CAAC;IACL;EACF,CAAC;EAED,MAAMC,YAAY,GAAGV,eAAe,CAAC,CAAC;EAEtC,oBACEtK,OAAA;IACEiL,GAAG,EAAE/J,UAAW;IAChBwF,SAAS,EAAE,iBAAiBpF,UAAU,GAAG,UAAU,GAAG,EAAE,EAAG;IAC3D8E,KAAK,EAAE;MACLsD,IAAI,EAAEtI,QAAQ,CAACR,CAAC;MAChBgJ,GAAG,EAAExI,QAAQ,CAACP,CAAC;MACfa,OAAO,EAAEA;IACX,CAAE;IACFwJ,WAAW,EAAE9B,eAAgB;IAAA+B,QAAA,eAE7BnL,OAAA;MACE0G,SAAS,EAAE;AACnB,YAAY9E,WAAW,GAAG,QAAQ,GAAG,MAAM;AAC3C;AACA;AACA,YAAYoJ,YAAY,CAACT,OAAO;AAChC,mBAAmBS,YAAY,CAACR,WAAW;AAC3C,uBAAuBQ,YAAY,CAACD,SAAS;AAC7C;AACA,SAAU;MAAAI,QAAA,gBAGFnL,OAAA;QAAK0G,SAAS,EAAC,oGAAoG;QAAAyE,QAAA,gBACjHnL,OAAA;UAAK0G,SAAS,EAAC,yBAAyB;UAAAyE,QAAA,gBACtCnL,OAAA,CAACP,cAAc;YAACiH,SAAS,EAAC;UAAuB;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EACnDjJ,WAAW,iBACV5B,OAAA;YAAK0G,SAAS,EAAE,2BAA2BsE,YAAY,CAACP,SAAS,EAAG;YAAAU,QAAA,GACjEH,YAAY,CAAChC,IAAI,eAClBhJ,OAAA;cAAM0G,SAAS,EAAC,qBAAqB;cAAAyE,QAAA,EAAEH,YAAY,CAACF;YAAK;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9D,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAEN7K,OAAA;UAAK0G,SAAS,EAAC,yBAAyB;UAAAyE,QAAA,GAErCzI,cAAc,iBACb1C,OAAA;YACEoL,OAAO,EAAE5I,WAAW,GAAG2E,OAAO,GAAGnB,QAAS;YAC1CU,SAAS,EAAE,sCAAsClE,WAAW,GAAG,oCAAoC,GAAG,iCAAiC,EAAG;YAC1I6I,KAAK,EAAE7I,WAAW,GAAG,yBAAyB,GAAG,8BAA+B;YAAA2I,QAAA,eAEhFnL,OAAA,CAACF,SAAS;cAAC4G,SAAS,EAAC;YAAS;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B,CACT,eACD7K,OAAA;YACEoL,OAAO,EAAEA,CAAA,KAAM/I,aAAa,CAAC,CAACD,UAAU,CAAE;YAC1CsE,SAAS,EAAC,sDAAsD;YAChE2E,KAAK,EAAEjJ,UAAU,GAAG,aAAa,GAAG,aAAc;YAAA+I,QAAA,EAEjD/I,UAAU,gBACTpC,OAAA,CAACJ,GAAG;cAAC8G,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAEzC7K,OAAA,CAACH,MAAM;cAAC6G,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAC5C;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC,eACT7K,OAAA;YACEoL,OAAO,EAAEA,CAAA,KAAMjJ,eAAe,CAAC,CAACD,YAAY,CAAE;YAC9CwE,SAAS,EAAC,sDAAsD;YAChE2E,KAAK,EAAEnJ,YAAY,GAAG,MAAM,GAAG,QAAS;YAAAiJ,QAAA,EAEvCjJ,YAAY,gBACXlC,OAAA,CAACN,OAAO;cAACgH,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAE7C7K,OAAA,CAACL,OAAO;cAAC+G,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAC7C;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC,eACT7K,OAAA;YACEoL,OAAO,EAAEA,CAAA,KAAMvJ,cAAc,CAAC,CAACD,WAAW,CAAE;YAC5C8E,SAAS,EAAC,sDAAsD;YAAAyE,QAAA,EAE/DvJ,WAAW,gBACV5B,OAAA,CAACR,SAAS;cAACkH,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAE/C7K,OAAA,CAACT,SAAS;cAACmH,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAC/C;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC,eACT7K,OAAA;YACEoL,OAAO,EAAEA,CAAA,KAAM;cAAEjE,OAAO,CAAC,CAAC;cAAE1G,OAAO,CAAC,CAAC;YAAE,CAAE;YACzCiG,SAAS,EAAC,wDAAwD;YAAAyE,QAAA,eAElEnL,OAAA,CAACV,CAAC;cAACoH,SAAS,EAAC;YAAuB;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAEL,CAACjJ,WAAW,iBACX5B,OAAA,CAAAE,SAAA;QAAAiL,QAAA,GAEGzI,cAAc,IAAI,CAACF,WAAW,iBAC7BxC,OAAA;UAAK0G,SAAS,EAAC,4DAA4D;UAAAyE,QAAA,eACzEnL,OAAA;YAAG0G,SAAS,EAAC,kDAAkD;YAAAyE,QAAA,gBAC7DnL,OAAA,CAACF,SAAS;cAAC4G,SAAS,EAAC;YAAS;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,qDAEnC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CACN,EAEArI,WAAW,iBACVxC,OAAA;UAAK0G,SAAS,EAAC,4DAA4D;UAAAyE,QAAA,eACzEnL,OAAA;YAAG0G,SAAS,EAAC,kDAAkD;YAAAyE,QAAA,gBAC7DnL,OAAA,CAACX,WAAW;cAACqH,SAAS,EAAC;YAAS;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,qDAErC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CACN,EAGAzI,UAAU,iBACTpC,OAAA;UAAK0G,SAAS,EAAC,mCAAmC;UAAAyE,QAAA,gBAChDnL,OAAA,CAACd,MAAM;YACL+L,GAAG,EAAElK,SAAU;YACfuK,KAAK,EAAE,KAAM;YACbC,gBAAgB,EAAC,YAAY;YAC7BC,gBAAgB,EAAE;cAChBrG,KAAK,EAAE,GAAG;cACVC,MAAM,EAAE,GAAG;cACXqG,UAAU,EAAE;YACd,CAAE;YACF/E,SAAS,EAAC;UAA4B;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC,eAGF7K,OAAA;YACEiL,GAAG,EAAEhK,SAAU;YACfkE,KAAK,EAAE,GAAI;YACXC,MAAM,EAAE,GAAI;YACZsB,SAAS,EAAC;UAAQ;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,eAGF7K,OAAA;YAAK0G,SAAS,EAAE,2DAA2DsE,YAAY,CAACT,OAAO,WAAWS,YAAY,CAACR,WAAW,mBAAoB;YAAAW,QAAA,eACpJnL,OAAA;cAAK0G,SAAS,EAAE,0CAA0CsE,YAAY,CAACP,SAAS,EAAG;cAAAU,QAAA,GAChFH,YAAY,CAAChC,IAAI,eAClBhJ,OAAA;gBAAM0G,SAAS,EAAC,uBAAuB;gBAAAyE,QAAA,EAAEH,YAAY,CAACF;cAAK;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAEA,CAACzI,UAAU,iBACVpC,OAAA,CAACd,MAAM;UACL+L,GAAG,EAAElK,SAAU;UACfuK,KAAK,EAAE,KAAM;UACbC,gBAAgB,EAAC,YAAY;UAC7BC,gBAAgB,EAAE;YAChBrG,KAAK,EAAE,GAAG;YACVC,MAAM,EAAE,GAAG;YACXqG,UAAU,EAAE;UACd,CAAE;UACF/E,SAAS,EAAC;QAAQ;UAAAgE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CACF,eAGD7K,OAAA;UAAK0G,SAAS,EAAC,WAAW;UAAAyE,QAAA,gBACxBnL,OAAA;YAAK0G,SAAS,EAAC,wCAAwC;YAAAyE,QAAA,gBACrDnL,OAAA;cAAM0G,SAAS,EAAC,uBAAuB;cAAAyE,QAAA,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtD7K,OAAA;cAAM0G,SAAS,EAAC,uBAAuB;cAAAyE,QAAA,GAAEpB,IAAI,CAAC2B,KAAK,CAAChK,OAAO,GAAG,GAAG,CAAC,EAAC,GAAC;YAAA;cAAAgJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxE,CAAC,eACN7K,OAAA;YACE4D,IAAI,EAAC,OAAO;YACZqG,GAAG,EAAC,KAAK;YACTD,GAAG,EAAC,GAAG;YACP2B,IAAI,EAAC,MAAM;YACXhI,KAAK,EAAEjC,OAAQ;YACfkK,QAAQ,EAAGzH,CAAC,IAAKxC,UAAU,CAACkK,UAAU,CAAC1H,CAAC,CAACkF,MAAM,CAAC1F,KAAK,CAAC,CAAE;YACxD+C,SAAS,EAAC;UAAuF;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAGL7I,kBAAkB,iBACjBhC,OAAA;UAAK0G,SAAS,EAAC,WAAW;UAAAyE,QAAA,eACxBnL,OAAA;YAAG0G,SAAS,EAAC,mCAAmC;YAAAyE,QAAA,GAAC,cACnC,EAACnJ,kBAAkB,CAAC8J,kBAAkB,CAAC,CAAC;UAAA;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CACN;MAAA,eACD,CACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC/J,EAAA,CAxjBIP,YAAY;AAAAwL,EAAA,GAAZxL,YAAY;AA0jBlB,eAAeA,YAAY;AAAC,IAAAwL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}