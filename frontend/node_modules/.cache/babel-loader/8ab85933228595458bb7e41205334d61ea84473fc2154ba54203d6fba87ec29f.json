{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cdanielle\\\\belajar\\\\posture-detection\\\\frontend\\\\src\\\\components\\\\PopupOverlay.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport { AlertTriangle, CheckCircle, X, Minimize2, Maximize2, GripHorizontal, Volume2, VolumeX, Eye, EyeOff, MonitorUp } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst PopupOverlay = ({\n  isEnabled,\n  onClose,\n  initialOpacity = 0.9,\n  initialPosition = {\n    x: 20,\n    y: 20\n  }\n}) => {\n  _s();\n  const webcamRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const overlayRef = useRef(null);\n  const pipWindowRef = useRef(null);\n  const [position, setPosition] = useState(initialPosition);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [opacity, setOpacity] = useState(initialOpacity);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [currentStatus, setCurrentStatus] = useState('unknown');\n  const [lastBadPostureTime, setLastBadPostureTime] = useState(null);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const [showCamera, setShowCamera] = useState(true);\n  const [isTabVisible, setIsTabVisible] = useState(true);\n  const [isPiPActive, setIsPiPActive] = useState(false);\n  const [isPiPSupported, setIsPiPSupported] = useState(false);\n  const isProcessingRef = useRef(false);\n  const frameCountRef = useRef(0);\n\n  // Check if Picture-in-Picture is supported\n  useEffect(() => {\n    setIsPiPSupported('documentPictureInPicture' in window || 'pictureInPictureEnabled' in document);\n  }, []);\n\n  // Audio notification\n  const playNotificationSound = useCallback(() => {\n    if (!soundEnabled) return;\n    try {\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      oscillator.frequency.value = 440;\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.5);\n    } catch (e) {\n      console.log('Audio not available');\n    }\n  }, [soundEnabled]);\n\n  // Tab visibility detection\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      setIsTabVisible(!document.hidden);\n    };\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, []);\n  const startPiP = async () => {\n    try {\n      if ('documentPictureInPicture' in window) {\n        const pipWindow = await window.documentPictureInPicture.requestWindow({\n          width: 320,\n          height: 240\n        });\n        pipWindowRef.current = pipWindow;\n        const style = pipWindow.document.createElement('style');\n        style.textContent = `\n          body {\n            margin: 0;\n            padding: 0;\n            background: #1a1a25;\n            font-family: Arial, sans-serif;\n            overflow: hidden;\n          }\n          .container {\n            width: 100%;\n            height: 100%;\n            display: flex;\n            flex-direction: column;\n          }\n          video, canvas {\n            width: 100%;\n            height: calc(100% - 50px);\n            object-fit: cover;\n            transform: scaleX(-1);\n          }\n          .status-bar {\n            height: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: bold;\n            color: white;\n          }\n          .status-good { background: #10B981; }\n          .status-bad { background: #EF4444; }\n          .status-unknown { background: #666; }\n        `;\n        pipWindow.document.head.appendChild(style);\n        const container = pipWindow.document.createElement('div');\n        container.className = 'container';\n        container.id = 'pip-container';\n        const canvas = pipWindow.document.createElement('canvas');\n        canvas.width = 320;\n        canvas.height = 190;\n        canvas.id = 'pip-canvas';\n        container.appendChild(canvas);\n        const statusBar = pipWindow.document.createElement('div');\n        statusBar.className = 'status-bar status-unknown';\n        statusBar.id = 'pip-status';\n        statusBar.textContent = 'Detecting...';\n        container.appendChild(statusBar);\n        pipWindow.document.body.appendChild(container);\n        pipWindow.addEventListener('pagehide', () => {\n          setIsPiPActive(false);\n          pipWindowRef.current = null;\n        });\n        setIsPiPActive(true);\n        return;\n      }\n      if (videoRef.current && document.pictureInPictureEnabled) {\n        await videoRef.current.requestPictureInPicture();\n        setIsPiPActive(true);\n      }\n    } catch (err) {\n      console.error('PiP error:', err);\n      alert('Picture-in-Picture failed. Try using Chrome browser.');\n    }\n  };\n  const stopPiP = async () => {\n    try {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n        pipWindowRef.current = null;\n      }\n      if (document.pictureInPictureElement) {\n        await document.exitPictureInPicture();\n      }\n      setIsPiPActive(false);\n    } catch (err) {\n      console.error('Exit PiP error:', err);\n    }\n  };\n  const updatePiPContent = useCallback(status => {\n    if (!pipWindowRef.current) return;\n    try {\n      var _webcamRef$current;\n      const pipDoc = pipWindowRef.current.document;\n      const canvas = pipDoc.getElementById('pip-canvas');\n      const statusBar = pipDoc.getElementById('pip-status');\n      const video = (_webcamRef$current = webcamRef.current) === null || _webcamRef$current === void 0 ? void 0 : _webcamRef$current.video;\n      if (canvas && video) {\n        const ctx = canvas.getContext('2d');\n        ctx.save();\n        ctx.scale(-1, 1);\n        ctx.drawImage(video, -canvas.width, 0, canvas.width, canvas.height);\n        ctx.restore();\n      }\n      if (statusBar) {\n        const isGood = status === 'good';\n        const isBad = status === 'bad';\n        statusBar.className = `status-bar ${isGood ? 'status-good' : isBad ? 'status-bad' : 'status-unknown'}`;\n        statusBar.textContent = isGood ? '✓ Good Posture' : isBad ? '⚠ Fix Your Posture!' : 'Detecting...';\n      }\n    } catch (e) {}\n  }, []);\n\n  // Posture detection loop\n  useEffect(() => {\n    if (!isEnabled) return;\n    let animationId;\n    const detectAndDraw = async () => {\n      frameCountRef.current += 1;\n      if (isPiPActive && pipWindowRef.current) {\n        updatePiPContent(currentStatus);\n      }\n      if (frameCountRef.current % 30 === 0 && !isProcessingRef.current) {\n        if (!webcamRef.current) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n        const imageSrc = webcamRef.current.getScreenshot();\n        if (!imageSrc) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n        try {\n          isProcessingRef.current = true;\n          const response = await axios.post(`${API_URL}/detect`, {\n            image: imageSrc\n          }, {\n            timeout: 30000\n          });\n          if (response.data.success) {\n            const status = response.data.overall_status;\n            setCurrentStatus(status);\n          }\n        } catch (err) {\n          console.error('Popup detection error:', err);\n        } finally {\n          isProcessingRef.current = false;\n        }\n      }\n      animationId = requestAnimationFrame(detectAndDraw);\n    };\n    animationId = requestAnimationFrame(detectAndDraw);\n    return () => {\n      if (animationId) {\n        cancelAnimationFrame(animationId);\n      }\n    };\n  }, [isEnabled, isTabVisible, playNotificationSound, isPiPActive, updatePiPContent, currentStatus]);\n  useEffect(() => {\n    if (isEnabled && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, [isEnabled]);\n  useEffect(() => {\n    return () => {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n      }\n    };\n  }, []);\n  const handleMouseDown = e => {\n    if (e.target.closest('.popup-drag-handle')) {\n      setIsDragging(true);\n      const rect = overlayRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n  const handleMouseMove = useCallback(e => {\n    if (!isDragging) return;\n    const newX = Math.max(0, Math.min(window.innerWidth - 200, e.clientX - dragOffset.x));\n    const newY = Math.max(0, Math.min(window.innerHeight - 100, e.clientY - dragOffset.y));\n    setPosition({\n      x: newX,\n      y: newY\n    });\n  }, [isDragging, dragOffset]);\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, handleMouseMove]);\n  if (!isEnabled) return null;\n  const getStatusConfig = () => {\n    switch (currentStatus) {\n      case 'good':\n        return {\n          bgColor: 'bg-posture-good/20',\n          borderColor: 'border-posture-good/50',\n          textColor: 'text-posture-good',\n          icon: /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this),\n          label: 'Good Posture',\n          glowColor: 'shadow-posture-good/30'\n        };\n      case 'bad':\n        return {\n          bgColor: 'bg-posture-bad/20',\n          borderColor: 'border-posture-bad/50',\n          textColor: 'text-posture-bad',\n          icon: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this),\n          label: 'Fix Your Posture!',\n          glowColor: 'shadow-posture-bad/30'\n        };\n      default:\n        return {\n          bgColor: 'bg-white/10',\n          borderColor: 'border-white/20',\n          textColor: 'text-white/70',\n          icon: null,\n          label: 'Detecting...',\n          glowColor: ''\n        };\n    }\n  };\n  const statusConfig = getStatusConfig();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: overlayRef,\n    className: `popup-overlay ${isDragging ? 'dragging' : ''}`,\n    style: {\n      left: position.x,\n      top: position.y,\n      opacity: opacity\n    },\n    onMouseDown: handleMouseDown,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n          ${isMinimized ? 'w-auto' : 'w-80'}\n          rounded-2xl overflow-hidden\n          backdrop-blur-xl\n          ${statusConfig.bgColor}\n          border ${statusConfig.borderColor}\n          shadow-2xl ${statusConfig.glowColor}\n          transition-all duration-300\n        `,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-drag-handle flex items-center justify-between px-3 py-2 bg-black/30 border-b border-white/10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(GripHorizontal, {\n            className: \"w-4 h-4 text-white/40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), isMinimized && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center gap-2 ${statusConfig.textColor}`,\n            children: [statusConfig.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium\",\n              children: statusConfig.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [isPiPSupported && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: isPiPActive ? stopPiP : startPiP,\n            className: `p-1.5 rounded-lg transition-colors ${isPiPActive ? 'bg-emerald-500/30 text-emerald-400' : 'hover:bg-white/10 text-white/60'}`,\n            title: isPiPActive ? 'Exit Picture-in-Picture' : 'Float on other windows (PiP)',\n            children: /*#__PURE__*/_jsxDEV(MonitorUp, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCamera(!showCamera),\n            className: \"p-1.5 rounded-lg hover:bg-white/10 transition-colors\",\n            title: showCamera ? 'Hide camera' : 'Show camera',\n            children: showCamera ? /*#__PURE__*/_jsxDEV(Eye, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(EyeOff, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSoundEnabled(!soundEnabled),\n            className: \"p-1.5 rounded-lg hover:bg-white/10 transition-colors\",\n            title: soundEnabled ? 'Mute' : 'Unmute',\n            children: soundEnabled ? /*#__PURE__*/_jsxDEV(Volume2, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(VolumeX, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsMinimized(!isMinimized),\n            className: \"p-1.5 rounded-lg hover:bg-white/10 transition-colors\",\n            children: isMinimized ? /*#__PURE__*/_jsxDEV(Maximize2, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Minimize2, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              stopPiP();\n              onClose();\n            },\n            className: \"p-1.5 rounded-lg hover:bg-red-500/20 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-4 h-4 text-white/60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), !isMinimized && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [isPiPSupported && !isPiPActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 bg-emerald-500/10 border-b border-emerald-500/20\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-emerald-400 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(MonitorUp, {\n              className: \"w-3 h-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this), \"Click the monitor icon to float on other windows!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }, this), isPiPActive && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-2 bg-emerald-500/20 border-b border-emerald-500/30\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-emerald-400 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"w-3 h-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 19\n            }, this), \"Floating window active! Check your other windows.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 15\n        }, this), showCamera && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative aspect-video bg-black/50\",\n          children: [/*#__PURE__*/_jsxDEV(Webcam, {\n            ref: webcamRef,\n            audio: false,\n            screenshotFormat: \"image/jpeg\",\n            videoConstraints: {\n              width: 320,\n              height: 240,\n              facingMode: \"user\"\n            },\n            className: \"w-full h-full object-cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            width: 320,\n            height: 240,\n            className: \"hidden\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `absolute bottom-2 left-2 right-2 px-3 py-1.5 rounded-lg ${statusConfig.bgColor} border ${statusConfig.borderColor} backdrop-blur-sm`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-center gap-2 ${statusConfig.textColor}`,\n              children: [statusConfig.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-semibold\",\n                children: statusConfig.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 15\n        }, this), !showCamera && /*#__PURE__*/_jsxDEV(Webcam, {\n          ref: webcamRef,\n          audio: false,\n          screenshotFormat: \"image/jpeg\",\n          videoConstraints: {\n            width: 320,\n            height: 240,\n            facingMode: \"user\"\n          },\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 py-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-white/50\",\n              children: \"Opacity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-white/50\",\n              children: [Math.round(opacity * 100), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0.2\",\n            max: \"1\",\n            step: \"0.05\",\n            value: opacity,\n            onChange: e => setOpacity(parseFloat(e.target.value)),\n            className: \"w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer accent-emerald-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this), lastBadPostureTime && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 pb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-white/40 text-center\",\n            children: [\"Last alert: \", lastBadPostureTime.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 353,\n    columnNumber: 5\n  }, this);\n};\n_s(PopupOverlay, \"SEpMmmPAMnwV0hXLim+L7g9OLy0=\");\n_c = PopupOverlay;\nexport default PopupOverlay;\nvar _c;\n$RefreshReg$(_c, \"PopupOverlay\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Webcam","axios","AlertTriangle","CheckCircle","X","Minimize2","Maximize2","GripHorizontal","Volume2","VolumeX","Eye","EyeOff","MonitorUp","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","PopupOverlay","isEnabled","onClose","initialOpacity","initialPosition","x","y","_s","webcamRef","videoRef","canvasRef","overlayRef","pipWindowRef","position","setPosition","isDragging","setIsDragging","dragOffset","setDragOffset","opacity","setOpacity","isMinimized","setIsMinimized","currentStatus","setCurrentStatus","lastBadPostureTime","setLastBadPostureTime","soundEnabled","setSoundEnabled","showCamera","setShowCamera","isTabVisible","setIsTabVisible","isPiPActive","setIsPiPActive","isPiPSupported","setIsPiPSupported","isProcessingRef","frameCountRef","window","document","playNotificationSound","audioContext","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","value","type","gain","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","e","console","log","handleVisibilityChange","hidden","addEventListener","removeEventListener","startPiP","pipWindow","documentPictureInPicture","requestWindow","width","height","current","style","createElement","textContent","head","appendChild","container","className","id","canvas","statusBar","body","pictureInPictureEnabled","requestPictureInPicture","err","error","alert","stopPiP","close","pictureInPictureElement","exitPictureInPicture","updatePiPContent","status","_webcamRef$current","pipDoc","getElementById","video","ctx","getContext","save","scale","drawImage","restore","isGood","isBad","animationId","detectAndDraw","requestAnimationFrame","imageSrc","getScreenshot","response","post","image","timeout","data","success","overall_status","cancelAnimationFrame","Notification","permission","requestPermission","handleMouseDown","target","closest","rect","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","newX","Math","max","min","innerWidth","newY","innerHeight","handleMouseUp","getStatusConfig","bgColor","borderColor","textColor","icon","fileName","_jsxFileName","lineNumber","columnNumber","label","glowColor","statusConfig","ref","onMouseDown","children","onClick","title","audio","screenshotFormat","videoConstraints","facingMode","round","step","onChange","parseFloat","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/cdanielle/belajar/posture-detection/frontend/src/components/PopupOverlay.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport { \n  AlertTriangle, \n  CheckCircle, \n  X, \n  Minimize2, \n  Maximize2, \n  GripHorizontal,\n  Volume2,\n  VolumeX,\n  Eye,\n  EyeOff,\n  MonitorUp\n} from 'lucide-react';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst PopupOverlay = ({ \n  isEnabled, \n  onClose, \n  initialOpacity = 0.9,\n  initialPosition = { x: 20, y: 20 }\n}) => {\n  const webcamRef = useRef(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const overlayRef = useRef(null);\n  const pipWindowRef = useRef(null);\n  \n  const [position, setPosition] = useState(initialPosition);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [opacity, setOpacity] = useState(initialOpacity);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [currentStatus, setCurrentStatus] = useState('unknown');\n  const [lastBadPostureTime, setLastBadPostureTime] = useState(null);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const [showCamera, setShowCamera] = useState(true);\n  const [isTabVisible, setIsTabVisible] = useState(true);\n  const [isPiPActive, setIsPiPActive] = useState(false);\n  const [isPiPSupported, setIsPiPSupported] = useState(false);\n  const isProcessingRef = useRef(false);\n  const frameCountRef = useRef(0);\n\n  // Check if Picture-in-Picture is supported\n  useEffect(() => {\n    setIsPiPSupported('documentPictureInPicture' in window || 'pictureInPictureEnabled' in document);\n  }, []);\n\n  // Audio notification\n  const playNotificationSound = useCallback(() => {\n    if (!soundEnabled) return;\n    \n    try {\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      oscillator.frequency.value = 440;\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.5);\n    } catch (e) {\n      console.log('Audio not available');\n    }\n  }, [soundEnabled]);\n\n  // Tab visibility detection\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      setIsTabVisible(!document.hidden);\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);\n  }, []);\n\n  const startPiP = async () => {\n    try {\n      if ('documentPictureInPicture' in window) {\n        const pipWindow = await window.documentPictureInPicture.requestWindow({\n          width: 320,\n          height: 240,\n        });\n        \n        pipWindowRef.current = pipWindow;\n        \n        const style = pipWindow.document.createElement('style');\n        style.textContent = `\n          body {\n            margin: 0;\n            padding: 0;\n            background: #1a1a25;\n            font-family: Arial, sans-serif;\n            overflow: hidden;\n          }\n          .container {\n            width: 100%;\n            height: 100%;\n            display: flex;\n            flex-direction: column;\n          }\n          video, canvas {\n            width: 100%;\n            height: calc(100% - 50px);\n            object-fit: cover;\n            transform: scaleX(-1);\n          }\n          .status-bar {\n            height: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 16px;\n            font-weight: bold;\n            color: white;\n          }\n          .status-good { background: #10B981; }\n          .status-bad { background: #EF4444; }\n          .status-unknown { background: #666; }\n        `;\n        pipWindow.document.head.appendChild(style);\n        \n        const container = pipWindow.document.createElement('div');\n        container.className = 'container';\n        container.id = 'pip-container';\n        \n        const canvas = pipWindow.document.createElement('canvas');\n        canvas.width = 320;\n        canvas.height = 190;\n        canvas.id = 'pip-canvas';\n        container.appendChild(canvas);\n        \n        const statusBar = pipWindow.document.createElement('div');\n        statusBar.className = 'status-bar status-unknown';\n        statusBar.id = 'pip-status';\n        statusBar.textContent = 'Detecting...';\n        container.appendChild(statusBar);\n        \n        pipWindow.document.body.appendChild(container);\n        \n        pipWindow.addEventListener('pagehide', () => {\n          setIsPiPActive(false);\n          pipWindowRef.current = null;\n        });\n        \n        setIsPiPActive(true);\n        return;\n      }\n      \n      if (videoRef.current && document.pictureInPictureEnabled) {\n        await videoRef.current.requestPictureInPicture();\n        setIsPiPActive(true);\n      }\n    } catch (err) {\n      console.error('PiP error:', err);\n      alert('Picture-in-Picture failed. Try using Chrome browser.');\n    }\n  };\n\n  const stopPiP = async () => {\n    try {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n        pipWindowRef.current = null;\n      }\n      if (document.pictureInPictureElement) {\n        await document.exitPictureInPicture();\n      }\n      setIsPiPActive(false);\n    } catch (err) {\n      console.error('Exit PiP error:', err);\n    }\n  };\n\n  const updatePiPContent = useCallback((status) => {\n    if (!pipWindowRef.current) return;\n    \n    try {\n      const pipDoc = pipWindowRef.current.document;\n      const canvas = pipDoc.getElementById('pip-canvas');\n      const statusBar = pipDoc.getElementById('pip-status');\n      const video = webcamRef.current?.video;\n      \n      if (canvas && video) {\n        const ctx = canvas.getContext('2d');\n        ctx.save();\n        ctx.scale(-1, 1);\n        ctx.drawImage(video, -canvas.width, 0, canvas.width, canvas.height);\n        ctx.restore();\n      }\n      \n      if (statusBar) {\n        const isGood = status === 'good';\n        const isBad = status === 'bad';\n        statusBar.className = `status-bar ${isGood ? 'status-good' : isBad ? 'status-bad' : 'status-unknown'}`;\n        statusBar.textContent = isGood ? '✓ Good Posture' : isBad ? '⚠ Fix Your Posture!' : 'Detecting...';\n      }\n    } catch (e) {\n    }\n  }, []);\n\n  // Posture detection loop\n  useEffect(() => {\n    if (!isEnabled) return;\n\n    let animationId;\n    \n    const detectAndDraw = async () => {\n      frameCountRef.current += 1;\n      \n      if (isPiPActive && pipWindowRef.current) {\n        updatePiPContent(currentStatus);\n      }\n      \n      if (frameCountRef.current % 30 === 0 && !isProcessingRef.current) {\n        if (!webcamRef.current) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n\n        const imageSrc = webcamRef.current.getScreenshot();\n        if (!imageSrc) {\n          animationId = requestAnimationFrame(detectAndDraw);\n          return;\n        }\n\n        try {\n          isProcessingRef.current = true;\n          const response = await axios.post(`${API_URL}/detect`, {\n            image: imageSrc\n          }, { timeout: 30000 });\n\n          if (response.data.success) {\n            const status = response.data.overall_status;\n            setCurrentStatus(status);\n\n      \n          }\n        } catch (err) {\n          console.error('Popup detection error:', err);\n        } finally {\n          isProcessingRef.current = false;\n        }\n      }\n      \n      animationId = requestAnimationFrame(detectAndDraw);\n    };\n\n    animationId = requestAnimationFrame(detectAndDraw);\n    \n    return () => {\n      if (animationId) {\n        cancelAnimationFrame(animationId);\n      }\n    };\n  }, [isEnabled, isTabVisible, playNotificationSound, isPiPActive, updatePiPContent, currentStatus]);\n\n  useEffect(() => {\n    if (isEnabled && Notification.permission === 'default') {\n      Notification.requestPermission();\n    }\n  }, [isEnabled]);\n\n  useEffect(() => {\n    return () => {\n      if (pipWindowRef.current) {\n        pipWindowRef.current.close();\n      }\n    };\n  }, []);\n\n  const handleMouseDown = (e) => {\n    if (e.target.closest('.popup-drag-handle')) {\n      setIsDragging(true);\n      const rect = overlayRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n\n  const handleMouseMove = useCallback((e) => {\n    if (!isDragging) return;\n    \n    const newX = Math.max(0, Math.min(window.innerWidth - 200, e.clientX - dragOffset.x));\n    const newY = Math.max(0, Math.min(window.innerHeight - 100, e.clientY - dragOffset.y));\n    \n    setPosition({ x: newX, y: newY });\n  }, [isDragging, dragOffset]);\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, handleMouseMove]);\n\n  if (!isEnabled) return null;\n\n  const getStatusConfig = () => {\n    switch (currentStatus) {\n      case 'good':\n        return {\n          bgColor: 'bg-posture-good/20',\n          borderColor: 'border-posture-good/50',\n          textColor: 'text-posture-good',\n          icon: <CheckCircle className=\"w-5 h-5\" />,\n          label: 'Good Posture',\n          glowColor: 'shadow-posture-good/30'\n        };\n      case 'bad':\n        return {\n          bgColor: 'bg-posture-bad/20',\n          borderColor: 'border-posture-bad/50',\n          textColor: 'text-posture-bad',\n          icon: <AlertTriangle className=\"w-5 h-5\" />,\n          label: 'Fix Your Posture!',\n          glowColor: 'shadow-posture-bad/30'\n        };\n      default:\n        return {\n          bgColor: 'bg-white/10',\n          borderColor: 'border-white/20',\n          textColor: 'text-white/70',\n          icon: null,\n          label: 'Detecting...',\n          glowColor: ''\n        };\n    }\n  };\n\n  const statusConfig = getStatusConfig();\n\n  return (\n    <div\n      ref={overlayRef}\n      className={`popup-overlay ${isDragging ? 'dragging' : ''}`}\n      style={{\n        left: position.x,\n        top: position.y,\n        opacity: opacity\n      }}\n      onMouseDown={handleMouseDown}\n    >\n      <div \n        className={`\n          ${isMinimized ? 'w-auto' : 'w-80'}\n          rounded-2xl overflow-hidden\n          backdrop-blur-xl\n          ${statusConfig.bgColor}\n          border ${statusConfig.borderColor}\n          shadow-2xl ${statusConfig.glowColor}\n          transition-all duration-300\n        `}\n      >\n        {/* Header / Drag Handle */}\n        <div className=\"popup-drag-handle flex items-center justify-between px-3 py-2 bg-black/30 border-b border-white/10\">\n          <div className=\"flex items-center gap-2\">\n            <GripHorizontal className=\"w-4 h-4 text-white/40\" />\n            {isMinimized && (\n              <div className={`flex items-center gap-2 ${statusConfig.textColor}`}>\n                {statusConfig.icon}\n                <span className=\"text-sm font-medium\">{statusConfig.label}</span>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"flex items-center gap-1\">\n            {/* Picture-in-Picture Button */}\n            {isPiPSupported && (\n              <button\n                onClick={isPiPActive ? stopPiP : startPiP}\n                className={`p-1.5 rounded-lg transition-colors ${isPiPActive ? 'bg-emerald-500/30 text-emerald-400' : 'hover:bg-white/10 text-white/60'}`}\n                title={isPiPActive ? 'Exit Picture-in-Picture' : 'Float on other windows (PiP)'}\n              >\n                <MonitorUp className=\"w-4 h-4\" />\n              </button>\n            )}\n            <button\n              onClick={() => setShowCamera(!showCamera)}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n              title={showCamera ? 'Hide camera' : 'Show camera'}\n            >\n              {showCamera ? (\n                <Eye className=\"w-4 h-4 text-white/60\" />\n              ) : (\n                <EyeOff className=\"w-4 h-4 text-white/60\" />\n              )}\n            </button>\n            <button\n              onClick={() => setSoundEnabled(!soundEnabled)}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n              title={soundEnabled ? 'Mute' : 'Unmute'}\n            >\n              {soundEnabled ? (\n                <Volume2 className=\"w-4 h-4 text-white/60\" />\n              ) : (\n                <VolumeX className=\"w-4 h-4 text-white/60\" />\n              )}\n            </button>\n            <button\n              onClick={() => setIsMinimized(!isMinimized)}\n              className=\"p-1.5 rounded-lg hover:bg-white/10 transition-colors\"\n            >\n              {isMinimized ? (\n                <Maximize2 className=\"w-4 h-4 text-white/60\" />\n              ) : (\n                <Minimize2 className=\"w-4 h-4 text-white/60\" />\n              )}\n            </button>\n            <button\n              onClick={() => { stopPiP(); onClose(); }}\n              className=\"p-1.5 rounded-lg hover:bg-red-500/20 transition-colors\"\n            >\n              <X className=\"w-4 h-4 text-white/60\" />\n            </button>\n          </div>\n        </div>\n\n        {!isMinimized && (\n          <>\n            {/* PiP Instructions */}\n            {isPiPSupported && !isPiPActive && (\n              <div className=\"px-4 py-2 bg-emerald-500/10 border-b border-emerald-500/20\">\n                <p className=\"text-xs text-emerald-400 flex items-center gap-2\">\n                  <MonitorUp className=\"w-3 h-3\" />\n                  Click the monitor icon to float on other windows!\n                </p>\n              </div>\n            )}\n            \n            {isPiPActive && (\n              <div className=\"px-4 py-2 bg-emerald-500/20 border-b border-emerald-500/30\">\n                <p className=\"text-xs text-emerald-400 flex items-center gap-2\">\n                  <CheckCircle className=\"w-3 h-3\" />\n                  Floating window active! Check your other windows.\n                </p>\n              </div>\n            )}\n\n            {/* Camera Preview */}\n            {showCamera && (\n              <div className=\"relative aspect-video bg-black/50\">\n                <Webcam\n                  ref={webcamRef}\n                  audio={false}\n                  screenshotFormat=\"image/jpeg\"\n                  videoConstraints={{\n                    width: 320,\n                    height: 240,\n                    facingMode: \"user\"\n                  }}\n                  className=\"w-full h-full object-cover\"\n                />\n                \n                {/* Hidden canvas for PiP */}\n                <canvas\n                  ref={canvasRef}\n                  width={320}\n                  height={240}\n                  className=\"hidden\"\n                />\n                \n                {/* Status Badge Overlay */}\n                <div className={`absolute bottom-2 left-2 right-2 px-3 py-1.5 rounded-lg ${statusConfig.bgColor} border ${statusConfig.borderColor} backdrop-blur-sm`}>\n                  <div className={`flex items-center justify-center gap-2 ${statusConfig.textColor}`}>\n                    {statusConfig.icon}\n                    <span className=\"text-sm font-semibold\">{statusConfig.label}</span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {!showCamera && (\n              <Webcam\n                ref={webcamRef}\n                audio={false}\n                screenshotFormat=\"image/jpeg\"\n                videoConstraints={{\n                  width: 320,\n                  height: 240,\n                  facingMode: \"user\"\n                }}\n                className=\"hidden\"\n              />\n            )}\n\n            {/* Opacity Slider */}\n            <div className=\"px-4 py-3\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-xs text-white/50\">Opacity</span>\n                <span className=\"text-xs text-white/50\">{Math.round(opacity * 100)}%</span>\n              </div>\n              <input\n                type=\"range\"\n                min=\"0.2\"\n                max=\"1\"\n                step=\"0.05\"\n                value={opacity}\n                onChange={(e) => setOpacity(parseFloat(e.target.value))}\n                className=\"w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer accent-emerald-500\"\n              />\n            </div>\n\n            {/* Last Alert Time */}\n            {lastBadPostureTime && (\n              <div className=\"px-4 pb-3\">\n                <p className=\"text-xs text-white/40 text-center\">\n                  Last alert: {lastBadPostureTime.toLocaleTimeString()}\n                </p>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PopupOverlay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}